<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أذكار المسلم (نسخة للمعاينة)</title>
    <style>
        :root {
            --bg-morning: linear-gradient(135deg, #89CFF0 0%, #B6E2F3 100%);
            --bg-evening: linear-gradient(135deg, #2C3E50 0%, #4A6E8A 100%);
            --bg-sleep: linear-gradient(135deg, #1C2833 0%, #34495E 100%);
            --bg-baqiyat: linear-gradient(135deg, #005C97 0%, #363795 100%);
            --card-bg: rgba(255, 255, 255, 0.1);
            --card-hover-bg: rgba(255, 255, 255, 0.15);
            --card-completed-bg: rgba(46, 204, 113, 0.2);
            --text-color: #FFFFFF;
            --btn-bg: rgba(255, 255, 255, 0.2);
            --btn-active-border: #FFFFFF;
            --progress-bar-bg: linear-gradient(90deg, #27ae60, #2ecc71);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            line-height: 1.8;
            transition: background 0.5s ease;
            min-height: 100vh;
            color: var(--text-color);
        }
        .morning { background: var(--bg-morning); }
        .evening { background: var(--bg-evening); }
        .sleep { background: var(--bg-sleep); }
        .baqiyat { background: var(--bg-baqiyat); }

        .container { max-width: 800px; margin: 0 auto; padding: 15px; }
        .header { text-align: center; margin-bottom: 20px; background: var(--card-bg); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); }
        .header h1 { font-size: 2.2em; margin-bottom: 15px; text-shadow: 1px 1px 3px rgba(0,0,0,0.2); }
        .controls { display: flex; justify-content: center; gap: 10px; margin-bottom: 15px; flex-wrap: wrap; }
        .btn { padding: 10px 20px; border: none; border-radius: 25px; cursor: pointer; font-size: 14px; font-weight: bold; transition: all 0.3s ease; background: var(--btn-bg); color: var(--text-color); border: 2px solid transparent; }
        .btn:hover { transform: translateY(-2px); }
        .btn.active { border-color: var(--btn-active-border); }
        
        .progress-container { background: var(--card-bg); border-radius: 25px; padding: 5px; margin-bottom: 20px; }
        .progress-bar { height: 25px; background: var(--progress-bar-bg); border-radius: 20px; transition: width 0.5s ease; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; width: 0%; font-size: 12px; }
        
        .dhikr-grid, .baqiyat-grid { display: grid; grid-template-columns: 1fr; gap: 15px; }
        @media (min-width: 768px) {
            .dhikr-grid { grid-template-columns: repeat(2, 1fr); }
            .baqiyat-grid { grid-template-columns: repeat(2, 1fr); }
        }

        .dhikr-card, .baqiyat-card { background: var(--card-bg); border-radius: 15px; padding: 20px; backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; cursor: pointer; display: flex; flex-direction: column; justify-content: space-between; }
        .dhikr-card:hover, .baqiyat-card:hover { transform: translateY(-5px); background: var(--card-hover-bg); }
        .dhikr-card.completed { background: var(--card-completed-bg); opacity: 0.7; }
        
        .dhikr-text { font-size: 18px; text-align: center; margin-bottom: 15px; pointer-events: none; flex-grow: 1; white-space: pre-wrap; }
        .dhikr-source { font-size: 14px; opacity: 0.8; text-align: center; margin-bottom: 15px; font-style: italic; pointer-events: none; }
        .dhikr-counter-display { font-size: 16px; font-weight: bold; padding: 8px 15px; background: rgba(0, 0, 0, 0.2); border-radius: 20px; text-align: center; margin-top: 15px; pointer-events: none; }
        
        .baqiyat-card { text-align: center; }
        .baqiyat-text { font-size: 22px; font-weight: bold; margin-bottom: 10px; pointer-events: none; }
        .baqiyat-counter-display { font-size: 48px; font-weight: bold; margin: 10px 0; pointer-events: none; }
        
        .reset-container { text-align: center; margin: 25px 0; }
        .reset-btn { background: rgba(255, 82, 82, 0.7); border: none; color: white; padding: 12px 28px; font-size: 1rem; border-radius: 25px; cursor: pointer; transition: all 0.3s ease; }
        .reset-btn:hover { background: rgba(255, 82, 82, 1); transform: translateY(-2px); }
        
        .reminder-section { background: var(--card-bg); padding: 20px; border-radius: 15px; margin-top: 20px; text-align: center; }
        .reminder-section h2 { margin-bottom: 15px; }
        .reminder-controls { display: flex; justify-content: center; align-items: center; gap: 15px; flex-wrap: wrap; }
        #reminder-time { padding: 10px; border-radius: 10px; border: 1px solid #FFF; background: rgba(0,0,0,0.2); color: white; }
        #save-reminder-btn, #cancel-reminder-btn { font-size: 14px; }
        #save-reminder-btn { background: #27ae60; }
        #cancel-reminder-btn { background: #c0392b; }
        #reminder-status { margin-top: 15px; font-size: 14px; font-style: italic; }

        .footer-prayer { text-align: center; margin-top: 30px; padding: 15px; background: rgba(0, 0, 0, 0.1); border-radius: 10px; font-style: italic; font-size: 14px; }
        .hidden { display: none !important; }
    </style>
</head>
<body class="morning">
    <div class="container">
        <div class="header">
            <h1 id="main-title">أذكار الصباح</h1>
            <div class="controls">
                <button class="btn active" data-mode="morning">أذكار الصباح</button>
                <button class="btn" data-mode="evening">أذكار المساء</button>
                <button class="btn" data-mode="sleep">أذكار النوم</button>
                <button class="btn" data-mode="baqiyat">الباقيات الصالحات</button>
            </div>
            <div class="progress-container" id="progress-section">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>

        <div id="dhikr-section">
            <div class="dhikr-grid" id="dhikr-container"></div>
        </div>

        <div id="baqiyat-section" class="hidden">
            <div class="baqiyat-grid">
                <div class="baqiyat-card" data-type="subhan">
                    <p class="baqiyat-text">سبحان الله</p>
                    <p class="baqiyat-counter-display" id="subhan-counter">0</p>
                </div>
                <div class="baqiyat-card" data-type="hamd">
                    <p class="baqiyat-text">الحمد لله</p>
                    <p class="baqiyat-counter-display" id="hamd-counter">0</p>
                </div>
                <div class="baqiyat-card" data-type="ilah">
                    <p class="baqiyat-text">لا إله إلا الله</p>
                    <p class="baqiyat-counter-display" id="ilah-counter">0</p>
                </div>
                <div class="baqiyat-card" data-type="akbar">
                    <p class="baqiyat-text">الله أكبر</p>
                    <p class="baqiyat-counter-display" id="akbar-counter">0</p>
                </div>
            </div>
        </div>

        <div class="reset-container">
            <button class="reset-btn" id="reset-all-btn">🔄 إعادة ضبط العدادات</button>
        </div>

        <div class="reminder-section">
            <h2>ضبط التذكير اليومي</h2>
            <div class="reminder-controls">
                <input type="time" id="reminder-time" class="btn">
                <button id="save-reminder-btn" class="btn">حفظ التذكير</button>
                <button id="cancel-reminder-btn" class="btn">إلغاء</button>
            </div>
            <p id="reminder-status"></p>
        </div>

        <div class="footer-prayer">
            <p>اللهم اجعل هذا العمل خالصًا لوجهك الكريم وأنفع به المسلمين في كل مكان</p>
        </div>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const dhikrData = {
            morning: [
                { text: "أَعُوذُ بِاللهِ مِنْ الشَّيْطَانِ الرَّجِيمِ\nاللّهُ لاَ إِلَـهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ.", source: "آية الكرسي - من قالها حين يصبح أجير من الجن حتى يمسى", count: 1 },
                { text: "بِسْمِ اللهِ الرَّحْمنِ الرَّحِيم\nقُلْ هُوَ ٱللَّهُ أَحَدٌ، ٱللَّهُ ٱلصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُن لَّهُۥ كُفُوًا أَحَدٌۢ.", source: "3 مرات - سورة الإخلاص", count: 3 },
                { text: "بِسْمِ اللهِ الرَّحْمنِ الرَّحِيم\nقُلْ أَعُوذُ بِرَبِّ ٱلْفَلَقِ، مِن شَرِّ مَا خَلَقَ، وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ، وَمِن شَرِّ ٱلنَّفَّٰثَٰتِ فِى ٱلْعُقَدِ، وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ.", source: "3 مرات - سورة الفلق", count: 3 },
                { text: "بِسْمِ اللهِ الرَّحْمنِ الرَّحِيم\nقُلْ أَعُوذُ بِرَبِّ ٱلنَّاسِ، مَلِكِ ٱلنَّاسِ، إِلَٰهِ ٱلنَّاسِ، مِن شَرِّ ٱلْوَسْوَاسِ ٱلْخَنَّاسِ، ٱلَّذِى يُوَسْوِسُ فِى صُدُورِ ٱلنَّاسِ، مِنَ ٱلْجِنَّةِ وَٱلنَّاسِ.", source: "3 مرات - سورة الناس", count: 3 },
                { text: "أَصْـبَحْنا وَأَصْـبَحَ المُـلْكُ لله وَالحَمدُ لله، لا إلهَ إلاّ اللّهُ وَحدَهُ لا شَريكَ لهُ، لهُ المُـلكُ ولهُ الحَمْـد، وهُوَ على كلّ شَيءٍ قدير، رَبِّ أسْـأَلُـكَ خَـيرَ ما في هـذا اليوم وَخَـيرَ ما بَعْـدَه، وَأَعـوذُ بِكَ مِنْ شَـرِّ ما في هـذا اليوم وَشَرِّ ما بَعْـدَه، رَبِّ أَعـوذُبِكَ مِنَ الْكَسَـلِ وَسـوءِ الْكِـبَر، رَبِّ أَعـوذُ بِكَ مِنْ عَـذابٍ في النّـارِ وَعَـذابٍ في القَـبْر.", source: "رواه مسلم", count: 1 },
                { text: "اللّهـمَّ أَنْتَ رَبِّـي لا إلهَ إلاّ أَنْتَ، خَلَقْتَنـي وَأَنا عَبْـدُك، وَأَنا عَلـى عَهْـدِكَ وَوَعْـدِكَ ما اسْتَـطَعْـت، أَعـوذُبِكَ مِنْ شَـرِّ ما صَنَـعْت، أَبـوءُ لَـكَ بِنِعْـمَتِـكَ عَلَـيَّ وَأَبـوءُ بِذَنْـبي فَاغْفـِرْ لي فَإِنَّـهُ لا يَغْـفِرُ الذُّنـوبَ إِلاّ أَنْتَ.", source: "سيد الاستغفار - من قالها موقنا بها حين يصبح، فمات من يومه دخل الجنة", count: 1 },
                { text: "رَضيـتُ بِاللهِ رَبَّـاً وَبِالإسْلامِ ديـناً وَبِمُحَـمَّدٍ صلى الله عليه وسلم نَبِيّـاً.", source: "من قالها 3 مرات كان حقا على الله أن يرضيه يوم القيامة", count: 3 },
                { text: "اللّهُـمَّ إِنِّـي أَصْبَـحْتُ أُشْـهِدُك، وَأُشْـهِدُ حَمَلَـةَ عَـرْشِـك، وَمَلَائِكَتَكَ، وَجَمـيعَ خَلْـقِك، أَنَّـكَ أَنْـتَ اللهُ لا إلهَ إلاّ أَنْـتَ وَحْـدَكَ لا شَريكَ لَـك، وَأَنَّ ُ مُحَمّـداً عَبْـدُكَ وَرَسـولُـك.", source: "من قالها 4 مرات أعتقه الله من النار", count: 4 },
                { text: "اللّهُـمَّ ما أَصْبَـَحَ بي مِـنْ نِعْـمَةٍ أَو بِأَحَـدٍ مِـنْ خَلْـقِك، فَمِـنْكَ وَحْـدَكَ لا شريكَ لَـك، فَلَـكَ الْحَمْـدُ وَلَـكَ الشُّكْـر.", source: "من قالها فقد أدى شكر يومه", count: 1 },
                { text: "حَسْبِـيَ اللّهُ لا إلهَ إلاّ هُوَ عَلَـيهِ تَوَكَّـلتُ وَهُوَ رَبُّ العَرْشِ العَظـيم.", source: "من قالها 7 مرات كفاه الله ما أهمه من أمر الدنيا والآخرة", count: 7 },
                { text: "بِسـمِ اللهِ الذي لا يَضُـرُّ مَعَ اسمِـهِ شَيءٌ في الأرْضِ وَلا في السّمـاءِ وَهـوَ السّمـيعُ العَلـيم.", source: "من قالها 3 مرات لم يضره من الله شيء", count: 3 },
                { text: "اللّهُـمَّ بِكَ أَصْـبَحْنا وَبِكَ أَمْسَـينا، وَبِكَ نَحْـيا وَبِكَ نَمُـوتُ وَإِلَـيْكَ النُّـشُور.", source: "رواه الترمذي", count: 1 },
                { text: "أَصْبَـحْـنا عَلَى فِطْرَةِ الإسْلاَمِ، وَعَلَى كَلِمَةِ الإِخْلاَصِ، وَعَلَى دِينِ نَبِيِّنَا مُحَمَّدٍ صَلَّى اللهُ عَلَيْهِ وَسَلَّمَ، وَعَلَى مِلَّةِ أَبِينَا إبْرَاهِيمَ حَنِيفاً مُسْلِماً وَمَا كَانَ مِنَ المُشْرِكِينَ.", source: "رواه أحمد", count: 1 },
                { text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ: عَدَدَ خَلْـقِه، وَرِضـا نَفْسِـه، وَزِنَـةَ عَـرْشِـه، وَمِـدادَ كَلِمـاتِـه.", source: "3 مرات - رواه مسلم", count: 3 },
                { text: "اللّهُـمَّ عافِـني في بَدَنـي، اللّهُـمَّ عافِـني في سَمْـعي، اللّهُـمَّ عافِـني في بَصَـري، لا إلهَ إلاّ أَنْـتَ. اللّهُـمَّ إِنّـي أَعـوذُ بِكَ مِنَ الْكُـفر، وَالفَـقْر، وَأَعـوذُ بِكَ مِنْ عَذابِ القَـبْر، لا إلهَ إلاّ أَنْـتَ.", source: "3 مرات - رواه أبو داود", count: 3 },
                { text: "اللّهُـمَّ إِنِّـي أسْـأَلُـكَ العَـفْوَ وَالعـافِـيةَ في الدُّنْـيا وَالآخِـرَة، اللّهُـمَّ إِنِّـي أسْـأَلُـكَ العَـفْوَ وَالعـافِـيةَ في ديني وَدُنْـيايَ وَأهْـلي وَمالـي، اللّهُـمَّ اسْتُـرْ عـوْراتي وَآمِـنْ رَوْعاتـي، اللّهُـمَّ احْفَظْـني مِن بَـينِ يَدَيَّ وَمِن خَلْفـي وَعَن يَمـيني وَعَن شِمـالي، وَمِن فَوْقـي، وَأَعـوذُ بِعَظَمَـتِكَ أَن أُغْـتالَ مِن تَحْتـي.", source: "رواه أبو داود", count: 1 },
                { text: "يَا حَيُّ يَا قيُّومُ بِرَحْمَتِكَ أسْتَغِيثُ أَصْلِحْ لِي شَأنِي كُلَّهُ وَلاَ تَكِلْنِي إلَى نَفْسِي طَـرْفَةَ عَيْنٍ.", source: "رواه الحاكم", count: 1 },
                { text: "أَصْبَـحْـنا وَأَصْبَـحْ المُـلكُ للهِ رَبِّ العـالَمـين، اللّهُـمَّ إِنِّـي أسْـأَلُـكَ خَـيْرَ هـذا الـيَوْم، فَـتْحَهُ، وَنَصْـرَهُ، وَنـورَهُ وَبَـرَكَتَـهُ، وَهُـداهُ، وَأَعـوذُ بِـكَ مِـنْ شَـرِّ ما فـيهِ وَشَـرِّ ما بَعْـدَه.", source: "رواه أبو داود", count: 1 },
                { text: "اللّهُـمَّ عالِـمَ الغَـيْبِ وَالشّـهادَةِ فاطِـرَ السّماواتِ وَالأرْضِ رَبَّ كـلِّ شَـيءٍ وَمَليـكَه، أَشْهَـدُ أَنْ لا إِلـهَ إِلاّ أَنْت، أَعـوذُ بِكَ مِن شَـرِّ نَفْسـي وَمِن شَـرِّ الشَّيْـطانِ وَشِرْكِهِ، وَأَنْ أَقْتَـرِفَ عَلـى نَفْسـي سوءاً أَوْ أَجُـرَّهُ إِلـى مُسْـلِم.", source: "رواه أبو داود والترمذي", count: 1 },
                { text: "أَعـوذُ بِكَلِمـاتِ اللّهِ التّـامّـاتِ مِنْ شَـرِّ ما خَلَـق.", source: "3 مرات - رواه مسلم", count: 3 },
                { text: "اللَّهُمَّ صَلِّ وَسَلِّمْ وَبَارِكْ على نَبِيِّنَا مُحمَّد.", source: "من صلى عليّ 10 مرات أدركته شفاعتي يوم القيامة", count: 10 },
                { text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ الْهَمِّ وَالْحَزَنِ، وَأَعُوذُ بِكَ مِنْ الْعَجْزِ وَالْكَسَلِ، وَأَعُوذُ بِكَ مِنْ الْجُبْنِ وَالْبُخْلِ، وَأَعُوذُ بِكَ مِنْ غَلَبَةِ الدَّيْنِ، وَقَهْرِ الرِّجَالِ.", source: "رواه أبو داود", count: 1 },
                { text: "اللَّهُمَّ إِنِّي أَسْأَلُكَ عِلْمًا نَافِعًا، وَرِزْقًا طَيِّبًا، وَعَمَلًا مُتَقَبَّلًا.", source: "رواه ابن ماجه", count: 1 },
                { text: "أستغفر الله العظيم وأتوب إليه.", source: "100 مرة", count: 100 },
                { text: "لا إله إلا الله وحده لا شريك له، له الملك وله الحمد وهو على كل شيء قدير.", source: "100 مرة", count: 100 },
                { text: "سبحان الله وبحمده.", source: "100 مرة", count: 100 }
            ],
            evening: [
                { text: "أَعُوذُ بِاللهِ مِنْ الشَّيْطَانِ الرَّجِيمِ\nاللّهُ لاَ إِلَـهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ...", source: "آية الكرسي - من قالها حين يمسى أجير من الجن حتى يصبح", count: 1 },
                { text: "قُلْ هُوَ ٱللَّهُ أَحَدٌ... (سورة الإخلاص)", source: "3 مرات", count: 3 },
                { text: "قُلْ أَعُوذُ بِرَبِّ ٱلْفَلَقِ... (سورة الفلق)", source: "3 مرات", count: 3 },
                { text: "قُلْ أَعُوذُ بِرَبِّ ٱلنَّاسِ... (سورة الناس)", source: "3 مرات", count: 3 },
                { text: "أَمْسَيْـنا وَأَمْسـى المُـلْكُ لله وَالحَمدُ لله...", source: "رواه مسلم", count: 1 },
                { text: "اللّهـمَّ أَنْتَ رَبِّـي لا إلهَ إلاّ أَنْتَ...", source: "سيد الاستغفار - من قالها موقنا بها حين يمسى، فمات من ليلته دخل الجنة", count: 1 },
                { text: "رَضيـتُ بِاللهِ رَبَّـاً وَبِالإسْلامِ ديـناً...", source: "3 مرات", count: 3 },
                { text: "اللّهُـمَّ إِنِّـي أَمسيْتُ أُشْـهِدُك...", source: "4 مرات", count: 4 },
                { text: "اللّهُـمَّ ما أَمْسَى بي مِـنْ نِعْـمَةٍ...", source: "أدى شكر ليلته", count: 1 },
                { text: "حَسْبِـيَ اللّهُ لا إلهَ إلاّ هُوَ...", source: "7 مرات", count: 7 },
                { text: "بِسـمِ اللهِ الذي لا يَضُـرُّ مَعَ اسمِـهِ شَيءٌ...", source: "3 مرات", count: 3 },
                { text: "اللّهُـمَّ بِكَ أَمْسَيْـنا، وَبِكَ أَصْبَحْـنا...", source: "رواه الترمذي", count: 1 },
                { text: "أَمْسَيْـنا عَلَى فِطْرَةِ الإسْلاَمِ...", source: "رواه أحمد", count: 1 },
                { text: "سُبْحـانَ اللهِ وَبِحَمْـدِهِ: عَدَدَ خَلْـقِه...", source: "3 مرات", count: 3 },
                { text: "اللّهُـمَّ عافِـني في بَدَنـي...", source: "3 مرات", count: 3 },
                { text: "اللّهُـمَّ إِنِّـي أسْـأَلُـكَ العَـفْوَ وَالعـافِـيةَ...", source: "رواه أبو داود", count: 1 },
                { text: "يَا حَيُّ يَا قيُّومُ بِرَحْمَتِكَ أسْتَغِيثُ...", source: "رواه الحاكم", count: 1 },
                { text: "أَمْسَيْـنا وَأَمْسَى المُـلكُ للهِ رَبِّ العـالَمـين...", source: "رواه أبو داود", count: 1 },
                { text: "اللّهُـمَّ عالِـمَ الغَـيْبِ وَالشّـهادَةِ...", source: "رواه أبو داود والترمذي", count: 1 },
                { text: "أَعـوذُ بِكَلِمـاتِ اللّهِ التّـامّـاتِ مِنْ شَـرِّ ما خَلَـق", source: "3 مرات", count: 3 },
                { text: "اللَّهُمَّ صَلِّ وَسَلِّمْ وَبَارِكْ على نَبِيِّنَا مُحمَّد", source: "10 مرات", count: 10 },
                { text: "اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنْ الْهَمِّ وَالْحَزَنِ...", source: "رواه أبو داود", count: 1 },
                { text: "أستغفر الله العظيم وأتوب إليه", source: "100 مرة", count: 100 },
                { text: "لا إله إلا الله وحده لا شريك له...", source: "100 مرة", count: 100 },
                { text: "سبحان الله وبحمده", source: "100 مرة", count: 100 }
            ],
            sleep: [
                { text: "بِاسْـمِكَ اللّهُـمَّ أَمـوتُ وَأَحْـيا.", source: "رواه البخاري", count: 1 },
                { text: "يجمع كفيه ثم ينفث فيهما فيقرأ: سورة الإخلاص، والفلق، والناس ثم يمسح بهما ما استطاع من جسده.", source: "يفعل ذلك ثلاث مرات", count: 3 },
                { text: "آيَةُ الكُرْسِيِّ: اللّهُ لاَ إِلَـهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ...", source: "من قرأها لم يزل عليه من الله حافظ ولا يقربه شيطان", count: 1 },
                { text: "بِاسْـمِكَ رَبِّـي وَضَعْـتُ جَنْـبي، وَبِكَ أَرْفَعُـه، فَإِن أَمْسَـكْتَ نَفْسـي فارْحَـمْها، وَإِنْ أَرْسَلْتَـها فاحْفَظْـها بِمـا تَحْـفَظُ بِه عِبـادَكَ الصّـالِحـين.", source: "رواه البخاري ومسلم", count: 1 },
                { text: "اللّهُـمَّ قِنـي عَذابَـكَ يَـوْمَ تَبْـعَثُ عِبـادَك.", source: "3 مرات", count: 3 },
                { text: "الـحَمْـدُ للهِ الَّذِي أَطْـعَمَـنا وَسَقـانا، وَكَفـانا، وَآوانا، فَكَـمْ مِمَّـنْ لا كـافِيَ لَـهُ وَلا مُـؤْوي.", source: "رواه مسلم", count: 1 },
                { text: "اللّهُـمَّ أَسْـلَمْتُ نَفْـسي إِلَـيْكَ، وَفَوَّضْـتُ أَمْـري إِلَـيْكَ، وَأَلْـجَـأْتُ ظَهـري إِلَـيْكَ، رَغْبَـةً وَرَهْـبَةً إِلَـيْكَ، لا مَلْجَـأَ وَلا مَنْـجـا مِنْـكَ إِلاّ إِلَـيْكَ، آمَنْـتُ بِكِتـابِكَ الّـذي أَنْـزَلْتَ وَبِنَبِـيِّـكَ الّـذي أَرْسَلْت.", source: "من قالها ثم مات على الفطرة", count: 1 },
                { text: "سبحان الله", source: "33 مرة", count: 33 },
                { text: "الحمد لله", source: "33 مرة", count: 33 },
                { text: "الله أكبر", source: "34 مرة", count: 34 }
            ]
        };
        let currentMode = 'morning';
        let reminderTimeout = null;

        // --- Data Persistence ---
        function loadAllProgress() {
            try {
                const savedDhikr = localStorage.getItem('dhikrProgress_v3');
                if (savedDhikr) {
                    const progress = JSON.parse(savedDhikr);
                    Object.keys(progress).forEach(mode => {
                        if (dhikrData[mode]) {
                            progress[mode].forEach((item, index) => {
                                if (dhikrData[mode][index]) {
                                    dhikrData[mode][index].currentCount = item.currentCount || 0;
                                    dhikrData[mode][index].completed = item.completed || false;
                                }
                            });
                        }
                    });
                }
            } catch (e) { console.error("Failed to
